<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>レシピの編集</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <link href="/stylesheets/style.css" rel="stylesheet" type="text/css">
    
  </head>

  <body>

    <%- include('../common/header') %>
  
  <div id="contents_main">
    <form method="post" action="/histories/add/<%= recipes_id %>">
        <input type="hidden" name="_csrf" value="<%= csrfToken %>">
        <div class="contents_name">
            <h1 class="contents_sub_title contents_p_font">レシピ名</h1>
            <div class="mb-3">
                <input type="text" class="form-control" name="name" value="<%= name %>">
            </div>
        </div>

        <h1 class="contents_sub_title contents_p_font">日付</h1>
        <div class="contents_form_date">
            <div class="contents_form_year contents_form_date_element">
                <select class="form-select form-select-lg mb-3" aria-label=".form-select-lg example" name="year">
                    <% let count = 2020; %>
                    <% while (count <= 2050) { %>
                        <% if (count != year) { %>
                            <option value="<%= count %>"><%- count %></option>
                        <% } else { %>
                            <option value="<%= count %>" selected><%- count %></option>
                        <% } %>
                        <% count++; %>
                    <% } %>
                </select>
            </div>
            <div>
                <p class="contents_p_font contents_form_date_element">/</p>
            </div>
            <div class="contents_form_num contents_form_date_element">
                <select class="form-select form-select-lg mb-3" aria-label=".form-select-lg example" name="month">
                    <% count = 1; %>
                    <% while (count <= 12) { %>
                        <% if (count != month) { %>
                            <option value="<%= count %>"><%- count %></option>
                        <% } else { %>
                            <option value="<%= count %>" selected><%- count %></option>
                        <% } %>
                        <% count++; %>
                    <% } %>
                </select>
            </div>
            <div>
                <p class="contents_p_font contents_form_date_element">/</p>
            </div>
            <div class="contents_form_num contents_form_date_element">
                <select class="form-select form-select-lg mb-3" aria-label=".form-select-lg example" name="day">
                    <% count = 1; %>
                    <% while (count <= 31) { %>
                        <% if (count != day) { %>
                            <option value="<%= count %>"><%- count %></option>
                        <% } else { %>
                            <option value="<%= count %>" selected><%- count %></option>
                        <% } %>
                        <% count++; %>
                    <% } %>
                </select>
            </div>
        </div>

        <div class="contents_ingredient">
            <h1 class="contents_sub_title contents_p_font">材料</h1>
            <div class="mb-3">
                <textarea class="form-control" id="exampleFormControlTextarea1" name="ingredient" rows="5"><%- ingredient %></textarea>
            </div>
        </div>
        
        <div class="contents_way">
            <h1 class="contents_sub_title contents_p_font">作り方</h1>
            <textarea class="form-control" id="exampleFormControlTextarea1" name="way" rows="5"><%- way %></textarea>
        </div>

        <div class="contents_foot_btn"><input type="submit" value="履歴を登録" class="btn btn-primary"></a></div>
    </form>
  </div>    

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>
    </body>

</html>